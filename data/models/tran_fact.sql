CREATE TABLE
  IF NOT EXISTS TRANSACTION_FACT (
    "TRANSACTION_FACT_ID" INTEGER PRIMARY KEY AUTOINCREMENT
    , "USER_ID" INTEGER NOT NULL
    , "TRANSACTION_DATE" DATE NOT NULL
    , "TRANSACTION" TEXT NOT NULL
    , "CATEGORY" TEXT NOT NULL
    , "TRANSACTION_TYPE" TEXT NOT NULL
    , "AMOUNT" FLOAT NOT NULL
    , "TRANSACTION_MODE" TEXT NOT NULL
    , "CURRENCY" TEXT DEFAULT "INR"
    , "INSRT_TS" DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL
    , "INSRT_USER" TEXT NOT NULL
    , FOREIGN KEY (USER_ID) REFERENCES USER_ACCOUNT (USER_ID)
  );

CREATE INDEX idx_user_id ON TRANSACTION_FACT (USER_ID);

CREATE INDEX idx_transaction_date ON TRANSACTION_FACT (TRANSACTION_DATE);

CREATE INDEX idx_transaction_category ON TRANSACTION_FACT (CATEGORY);